$Id$

Thu Mar  8 13:53:15 GMT 2001 Ian Grant <Ian.Grant@cl.cam.ac.uk>

        * Added explicit exports to scm/postgres.scm.in so that the
          module works properly when used by another module.  Thanks
          to David Pirotte for finding this bug.

        * Bumped VERSION to 0.08

Sat Jul  8 09:54:01 BST 2000 Ian Grant <Ian.Grant@cl.cam.ac.uk>

        * Bumped VERSION prior to releasing 0.07

        * Updated README and NEWS

Tue Jun 20 12:38:07 BST 2000 Ian Grant <Ian.Grant@cl.cam.ac.uk>

        * libpostgres.c: Fixed use of soon-to-be-deprecated
          scm_make_smob_type_mfpe.

Thu Jun 15 11:09:34 BST 2000 Ian Grant <Ian.Grant@cl.cam.ac.uk>

        * libpostgres.c: Fixed use of deprecated scm_smobfuns struct.

        * libpostgres.c configure.in doc/guile-pg.texi
          test/guile-pg-basic-tests.scm.in: Added pg-oid-value function.
          
Fri Jun  2 10:30:43 BST 2000 Ian Grant <Ian.Grant@cl.cam.ac.uk>

        * NEW FILE: ANNOUNCE

        * Bumped libtool interface number to 2 prior to release.

        * Printing a large object port now gives information about the
          libpq file descriptor, the OID and the database connection to
          which the port applies.

        * Fixed buffer overflow in print methods for connection and
          results smobs.

        * Fixed fill_input bug and lob_printp of closed port.

        * Added test case for read-line (would've caught fill_input bug)

        * Changed libtool to new version 1.3.5

        * Updated autogen.sh

Tue May 30 08:20:09 BST 2000 Ian Grant <Ian.Grant@cl.cam.ac.uk>

        * Fixed large object ports so that they work with the further
          changes to the ports interface.

          Note: because of this, guile-pg no-longer builds with guile
          versions prior to 1.3.4

        * Changed all function names from pg:name to pg-name.  This
          removes the need for a hacked texi2html so that is now gone.

        * Removed pq-setdb  entirely.  It has been replaced by
          pq-connectdb which is much more flexible.

        * Changed the installation directory of libpostgres.so.  This
          used to be in an architecture dependent subdirectory, with a
          symbolic link from an architecture-independent directory, but
          this was still not compatible with multiple architectures.
          Instead we install the .so in the $(library) directory and
          load it explicitly using the scheme interface to dlopen etc.

        * As part of the above, the module is now loaded using

                 (use-modules (database postgres))

        * Addded procedure pg-guile-pg-loaded.  This is a marker, the
          presence of which guarantees that guile-pg is present.  This
          is tested in postgres.scm to see whether the guile is plain
          guile or the statically-linked guile-pg.

        * Updated README

        * Added <Dollar>Id<Dollar> all over the place in preparation
          for CVS use.  Also added PG-MODULE-RCSID procedure to get
          the RCS Id of the scheme module (postgres.scm).

Sun Jun 27 14:50:09 BST 1999 Ian Grant <Ian.Grant@cl.cam.ac.uk>
        * Changes to configure.in to check for Postgres 6.4 features.

        * Changes to libpostgres.c to conditionally compile procedures
          depending on post 6.4 functionality in libpq.

        * Split libpostgres.c into two files. Added libpostgres_lo.c 
          containing the large object code.

        * Changes to libpostgres_lo.c to deal with Guile's new ptobfuns
          interface. Changes to configure.in to detect the new ptobfuns
          interface.

Sun Jan 31 19:05:32 GMT 1999 Ian Grant <Ian.Grant@cl.cam.ac.uk>
        * Changes to work with libpq from PostgreSQL 6.4.2 these were:

        * libpostgres.c: Added new primitives pg:binary-tuples? and pg:fmod.
          Changed pg:error-message to work with either a PG-CONN or a
          PG-RESULT object, calling PQresultErrorMessage in the latter case

          Changed pg:getvalue to work with binary data. Now PQbinaryTuples
          is called to check whether the returned value is binary and
          if it is a string of the appropriate length is returned.

          Changed pg:putline so that it actually calls PQputnbytes with
          the correct length. This works with null-terminated strings
          as it did before, but now works with strings containing embedded
          nulls as well.

        * Makefile.am: Added -lcrypt to the dependency list for libpostgres.so
          This is actually wrong though: -lcrypt should only be linked if
          necessary, since it doesn't exist on some systems. We need to
          check whether or not it exists in configure.in and only if does
          should we include it. I don't have enough brains to do this
          right now though.

Sun Jan 24 11:05:19 GMT 1999 Ian Grant <Ian.Grant@cl.cam.ac.uk>
        * HACKING: New File.

        * README: Added info on building guile-pg and intalling
          PostgreSQL from the Red Hat RPMS.

        * test/guile-pg-basic-tests.scm: New file. Uses testing.scm in the
          same directory.

        * test/guile-pg-lo-tests.scm: New file. Uses testing.scm in the
          same directory.

        * Makefile.am, configure.in: Added test subdirectory.

Sun Jan 17 17:02:42 1999  Ian Grant <I.A.N.Grant@damtp.cam.ac.uk>
        * acinclude.m4: Added new macro definition GUILE_MODULE
          which sets up the necessary install targets for a guile
          module. It gets these from guile-config.

        * configure.in: Changed to use GUILE_MODULE.

        * libpostgres.c: Changed all scheme i/f functions to use
          guile-snarf to make libpostgres.x

        * Makefile.am: Added lines to allow .x in .deps and to run
          guile-snarf to create the .x files when necessary.

        * libpostgres.c: Added pg:reset and pg:trace and pg:untrace

Tue Jan 12 20:14:06 1999  Ian Grant <I.A.N.Grant@damtp.cam.ac.uk>
        * libpostgres.c: Completed large obect support

        * libpostgres.c: Added support for PQputline/PQgetline/PQendcopy

        * doc/guile-pg.texi: Function descriptions

Sat Dec  5 14:29:54 1998  Ian Grant <I.A.N.Grant@damtp.cam.ac.uk>
        * libtoolized

        * acinclude.m4: new file defining PQ library autoconf macro

Thu Dec  3 23:14:38 1998  Ian Grant <I.A.N.Grant@damtp.cam.ac.uk>
        * AUTHORS: New file, in accordance with the GNU maintainers'
        standards.

        * README: New file, in accordance with the GNU maintainers'
        standards.

        * Makefile.am: New file for automake.

        * configure.in and friends: new files for autoconf.
